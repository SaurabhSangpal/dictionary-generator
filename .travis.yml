language: cpp

script: 
  - cmake -DCMAKE_BUILD_TYPE=Debug .
    make
    sonar-scanner

matrix:
    include:
        - os: linux
          addons:
            sonarcloud:
              organization: "sonarcloud"
            apt:
                sources:
                    - ubuntu-toolchain-r-test
                packages:
                    - g++-7
            env:
                - MATRIX_EVAL="CC=gcc-7 && CXX=g++-7"

before_install:
    - eval "${MATRIX_EVAL}"
